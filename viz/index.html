<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Algorithmic Evolution — Sorting DNA</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <h1>Algorithmic Evolution — Sorting DNA</h1>
    <div id="controls">
      <input type="file" id="fileInput" accept=".csv" />
      <button id="playPauseBtn">Play</button>
      <button id="resetBtn">Reset</button>
      <button id="prevBtn">Prev</button>
      <button id="nextBtn">Next</button>
      <label class="inline">
        <span>Speed</span>
        <input type="range" id="speedSlider" min="0.1" max="4" step="0.1" value="1">
      </label>
      <label class="inline">
        <span>Optimizer</span>
        <select id="optFilter">
          <option value="all">All</option>
          <option value="GA">GA</option>
          <option value="SA">SA</option>
        </select>
      </label>
      <label class="inline">
        <span>Algorithm</span>
        <select id="algoFilter">
          <option value="all">All</option>
          <option value="QS">QuickSort</option>
          <option value="MS">MergeSort</option>
        </select>
      </label>
      <label class="inline">
        <span>Reveal</span>
        <select id="revealMode">
          <option value="progressive">Progressive (2 → 100K)</option>
          <option value="all">All at step</option>
          <option value="top1k">Top 1K at step</option>
        </select>
      </label>
      <label class="inline">
        <span>Color</span>
        <select id="colorMode">
          <option value="fitness">Fitness tiers</option>
          <option value="algorithm">Algorithm (QS vs MS)</option>
        </select>
      </label>
      <div class="inline" style="gap:6px; align-items:center;">
        <button id="loadKaggleBtn" title="Loads CSV from /data/logs on localhost">Demo (Kaggle)</button>
        <input type="text" id="csvUrl" placeholder="/data/logs/your.csv or https://..." style="min-width:360px;">
        <button id="loadUrlBtn">Load</button>
      </div>
    </div>
  </header>
  <main>
    <canvas id="vizCanvas"></canvas>
    <aside id="hud">
      <div class="stat"><span>Step</span><strong id="stepStat">0 / 0</strong></div>
      <div class="stat"><span>Particles</span><strong id="countStat">0</strong></div>
      <div class="stat"><span>Best Fitness</span><strong id="bestFitnessStat">—</strong></div>
      <div class="stat"><span>Best DNA</span><pre id="bestDNA">—</pre></div>
      <div class="stat"><span>Space</span><strong id="spaceStat">—</strong></div>
      <div style="margin-top:10px; font-size:12px; color:#9aa5b1;">Paste a CSV URL and press Load, or click Demo.</div>
      <hr style="border-color:#1b2640;">
      <div style="font-size:12px; color:#9aa5b1; margin-bottom:6px;">Leaderboard (best overall)</div>
      <div class="stat"><span>QS (time)</span><strong id="lbQS">—</strong></div>
      <div class="stat"><span>MS (time)</span><strong id="lbMS">—</strong></div>
      <div class="stat"><span>GA best</span><strong id="lbGA">—</strong></div>
      <div class="stat"><span>SA best</span><strong id="lbSA">—</strong></div>
    </aside>
  </main>

  <div id="modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3>DNA Details</h3>
        <button id="modalClose">×</button>
      </div>
      <div id="modalBody"></div>
    </div>
  </div>
  <script src="viz.js"></script>
</body>
</html>

